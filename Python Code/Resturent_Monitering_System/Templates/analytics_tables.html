{% extends "HtmlFiles/Base.html" %}

{% block title %}Analytics Data Tables{% endblock title %}

{% load static %}
{% block body %}
<style>
    .dashboard-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        font-family: Arial, sans-serif;
    }
    .table-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
    }
    .dashboard-card {
        background-color: #ffffff;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .dashboard-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }
    .dashboard-card h4 {
        background-color: #5b4b8a;
        color: #ffffff;
        margin: 0;
        padding: 15px;
        font-size: 18px;
        text-align: center;
    }
    .data-table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
    }
    .data-table th,
    .data-table td {
        padding: 12px 15px;
        text-align: center;
        border-bottom: 1px solid #e0e0e0;
    }
    .data-table th {
        background-color: #f5f5f5;
        font-weight: bold;
        text-transform: uppercase;
        font-size: 14px;
        color: #333;
    }
    .data-table tr:last-child td {
        border-bottom: none;
    }
    .data-table tr:nth-child(even) {
        background-color: #f9f9f9;
    }
    .data-table tr:hover {
        background-color: #f0f0f0;
    }
    #dishesTable th:first-child,
    #dishesTable td:first-child {
        color: #4ecdc4;
    }
    #countTable th:first-child,
    #countTable td:first-child {
        color: #4ecdc4;
    }
    #peakHoursTable th:first-child,
    #peakHoursTable td:first-child {
        color: #45b7d1;
    }
    #satisfactionTable th:first-child,
    #satisfactionTable td:first-child {
        color: #4ecdc4;
    }
    .data-table td:nth-child(2) {
        color: #000000;
    }
</style>

<div class="dashboard-container">
    <h2 style="text-align: center;">Analytics Data Tables</h2>
    <div class="table-grid">
        <div class="dashboard-card">
            <h4>Most Ordered Dishes</h4>
            <table class="data-table" id="dishesTable"></table>
        </div>
        <div class="dashboard-card">
            <h4>Customer Count</h4>
            <table class="data-table" id="countTable"></table>
        </div>
        <div class="dashboard-card">
            <h4>Peak Hours</h4>
            <table class="data-table" id="peakHoursTable"></table>
        </div>
        <div class="dashboard-card">
            <h4>Customer Satisfaction</h4>
            <table class="data-table" id="satisfactionTable"></table>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const dishesData = {
        labels: ['Dish', 'Orders'],
        data: [

        ]
    };

    const CustomerData = {
        labels: ['Day', 'Customers'],
        data: [
            ['Monday', 5000],
            ['Tuesday', 5500],
            ['Wednesday', 6000],
            ['Thursday', 5800],
            ['Friday', 7000],
            ['Saturday', 8000],
            ['Sunday', 7500]
        ]
    };

    const peakHoursData = {
        labels: ['Time', 'Customers'],
        data: [
            ['11am', 20],
            ['12pm', 40],
            ['1pm', 60],
            ['2pm', 50],
            ['3pm', 30],
            ['4pm', 35],
            ['5pm', 45],
            ['6pm', 70],
            ['7pm', 80],
            ['8pm', 60]
        ]
    };

    const satisfactionData = {
        labels: ['Rating', 'Percentage (%)'],
        data: [
            ['Excellent', 60],
            ['Good', 20],
            ['Fair', 10],
            ['Poor', 10]
        ]
    };

    function createTable(tableId, data) {
        const table = document.getElementById(tableId);
        let html = `<tr><th>${data.labels[0]}</th><th>${data.labels[1]}</th></tr>`;
        for (let i = 0; i < data.data.length; i++) {
            html += `<tr><td>${data.data[i][0]}</td><td>${data.data[i][1]}</td></tr>`;
        }
        table.innerHTML = html;
    }

    createTable('dishesTable', dishesData);
    createTable('countTable', CustomerData);
    createTable('peakHoursTable', peakHoursData);
    createTable('satisfactionTable', satisfactionData);
});
</script>
{% endblock body %}