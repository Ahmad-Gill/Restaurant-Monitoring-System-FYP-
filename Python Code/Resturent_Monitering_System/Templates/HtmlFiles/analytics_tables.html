{% extends "HtmlFiles/Base.html" %}

{% block title %}Analytics Data Tables{% endblock title %}

{% load static %}
{% block body %}
<style>
    body {
        background-color: #1a1a2e;
        color: #ffffff;
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
    }
    .dashboard-container {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
    }
    .navigation-links {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-bottom: 20px;
        font-size: 16px;
        font-weight: bold;
    }
    .navigation-links a {
        color: #ffffff;
        text-decoration: none;
        transition: color 0.3s ease;
    }
    .navigation-links a:hover {
        color: #5b4b8a;
    }
    .table-grid {
        display: flex;
        flex-direction: column;
        gap: 30px;
    }
    .dashboard-card {
        background-color: #000000;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(255, 255, 255, 0.1);
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .dashboard-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 12px rgba(255, 255, 255, 0.15);
    }
    .dashboard-card h4 {
        background-color: black;
        color: #ffffff;
        margin: 0;
        padding: 15px;
        font-size: 18px;
        text-align: center;
    }
    .data-table {
        width: 100%;
        border-collapse: separate; /* Separate borders for spacing */
        border-spacing: 10px; /* Adds space between cells */
        color: #ffffff;
        table-layout: fixed;
    }
    .data-table th,
    .data-table td {
        padding: 15px 20px; /* Padding inside the cells */
        text-align: center;
        border: 1px solid #ffffff; /* White border around cells */
        border-radius: 8px; /* Rounded corners to add softness */
    }
    .data-table th {
        background-color: black;
        font-weight: bold;
        text-transform: uppercase;
        font-size: 14px;
    }
    .data-table tr:nth-child(even) {
        background-color: black;
    }
    .data-table tr:hover {
        background-color: black;
    }
    #dishesTable img {
        width: 70px;
        height: 70px;
        object-fit: cover;
        border-radius: 25%;
    }
</style>



<div class="dashboard-container">
    <h2 style="text-align: center; color: #ffffff;">Analytics Data Tables</h2>
    
    <!-- Navigation Links -->
    <div class="navigation-links">
        <a href="{% url 'analytics' %}">Visuals</a>
        <a href="{% url 'analytics_table' %}">Tables</a>
    </div>
    
    <div class="table-grid">
        <div class="dashboard-card">
            <h4>Most Ordered Dishes</h4>
            <table class="data-table" id="dishesTable"></table>
        </div>
        <div class="dashboard-card">
            <h4>Customer Count</h4>
            <table class="data-table" id="countTable"></table>
        </div>
        <div class="dashboard-card">
            <h4>Peak Hours</h4>
            <table class="data-table" id="peakHoursTable"></table>
        </div>
        <div class="dashboard-card">
            <h4>Customer Satisfaction</h4>
            <table class="data-table" id="satisfactionTable"></table>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const dishesData = {
        labels: ['Image', 'Dish', 'Orders', 'Date'],
        data: [
            ['{% static "images/pizza.jpg" %}', 'Pizza', 300, 'Oct 4, 2024'],
            ['{% static "images/burger.jfif" %}', 'Burger', 250, 'Oct 4, 2024'],
            ['{% static "images/pasta.jfif" %}', 'Pasta', 200, 'Oct 4, 2024'],
            ['{% static "images/salad.jfif" %}', 'Salad', 150, 'Oct 4, 2024'],
            ['{% static "images/steak.jfif" %}', 'Steak', 100, 'Oct 4, 2024']
        ]
    };

    const CustomerData = {
        labels: ['Day', 'Customers', 'Date'],
        data: [
            ['Monday', 5000, 'Oct 1, 2024'],
            ['Tuesday', 5500, 'Oct 2, 2024'],
            ['Wednesday', 6000, 'Oct 3, 2024'],
            ['Thursday', 5800, 'Oct 4, 2024'],
            ['Friday', 7000, 'Oct 5, 2024'],
            ['Saturday', 8000, 'Oct 6, 2024'],
            ['Sunday', 7500, 'Oct 7, 2024']
        ]
    };

    const peakHoursData = {
        labels: ['Time', 'Customers', 'Date'],
        data: [
            ['11am', 20, 'Oct 4, 2024'],
            ['12pm', 40, 'Oct 4, 2024'],
            ['1pm', 60, 'Oct 4, 2024'],
            ['2pm', 50, 'Oct 4, 2024'],
            ['3pm', 30, 'Oct 4, 2024'],
            ['4pm', 35, 'Oct 4, 2024'],
            ['5pm', 45, 'Oct 4, 2024'],
            ['6pm', 70, 'Oct 4, 2024'],
            ['7pm', 80, 'Oct 4, 2024'],
            ['8pm', 60, 'Oct 4, 2024']
        ]
    };

    const satisfactionData = {
        labels: ['Rating', 'Percentage (%)', 'Date'],
        data: [
            ['Excellent', 60, 'Oct 4, 2024'],
            ['Good', 20, 'Oct 4, 2024'],
            ['Fair', 10, 'Oct 4, 2024'],
            ['Poor', 10, 'Oct 4, 2024']
        ]
    };

    function createTable(tableId, data) {
        const table = document.getElementById(tableId);
        let html = '<tr>';
        for (let label of data.labels) {
            html += `<th>${label}</th>`;
        }
        html += '</tr>';
        for (let row of data.data) {
            html += '<tr>';
            for (let i = 0; i < row.length; i++) {
                if (tableId === 'dishesTable' && i === 0) {
                    html += `<td><img src="${row[i]}" alt="${row[i+1]}"></td>`;
                } else {
                    html += `<td>${row[i]}</td>`;
                }
            }
            html += '</tr>';
        }
        table.innerHTML = html;
    }

    createTable('dishesTable', dishesData);
    createTable('countTable', CustomerData);
    createTable('peakHoursTable', peakHoursData);
    createTable('satisfactionTable', satisfactionData);
});
</script>
{% endblock body %}
